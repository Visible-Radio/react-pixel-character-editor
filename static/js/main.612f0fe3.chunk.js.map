{"version":3,"sources":["components/Box.js","styles/StyledGrid.js","components/Grid.js","components/CharKey.js","components/OpenFileBtn.js","components/UniversalBtn.js","components/BtnPanel.js","components/IlluminatedButton.js","App.js","index.js"],"names":["Box","boxIndex","handleBoxClick","state","className","data-value","onClick","StyledGrid","styled","div","props","gridSize","Grid","def","gridArea","boxes","arr","i","push","map","box","includes","CharInput","charKey","onCharKeyInput","style","textAlign","maxLength","onChange","id","type","value","OpenFileBtn","onHiddenFileInputClick","display","accept","LaunchNukes","cols","borRad","UniversalBtn","btnText","BtnClick","shortText","col","colorString","multiplier","channel","Math","floor","r","g","b","BtnGrid","BtnPanel","children","Illuminated","gridWidth","css","IlluminatedButton","values","handleGridWidth","flexFlow","justifyContent","Number","App","useState","setDef","setCharKey","customDefs","sessionDefs","setSessionDefs","lastBoxValue","setLastBoxValue","setGridSize","previewWidth","setPreviewWidth","useEffect","defPreview","document","querySelector","handleResize","event","offsetWidth","window","addEventListener","removeEventListener","findBetween","lastClick","currentClick","between","rowOffset","getRow","colOffset","getColumn","from","min","until","max","slope","abs","n","onRecordDef","a","file","target","files","console","log","JSON","text","fileContents","parse","charWidth","charSet","Object","keys","join","charSpaces","scale","scaleMode","wordWrap","boxValue","dataset","shiftKey","filter","coordinate","sort","line","res1","res2","key","toUpperCase","hasOwnProperty","output","content","fileName","contentType","createElement","Blob","href","URL","createObjectURL","download","click","revokeObjectURL","stringify","newWidth","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.612f0fe3.chunk.js","sourcesContent":["export default function Box({ boxIndex, handleBoxClick, state}) {\n\n  return (\n    <div className = {`box ${state}`}\n      data-value = {boxIndex}\n      onClick = {handleBoxClick}\n    >\n    </div>\n  )\n}","import styled from 'styled-components';\n\nexport const StyledGrid = styled.div`\n  background-color: rgb(0, 55, 65);\n  padding: 2px;\n  width: 320px;\n  height: 320px;\n  border: 3px solid rgb(0, 55, 65);\n  display: grid;\n  grid-template-columns: repeat(${props => props.gridSize}, 1fr);\n  grid-template-rows: repeat(${props => props.gridSize}, 1fr);\n  justify-content: start;\n  align-items: start;\n  align-content: start;\n  margin: 0px;\n  box-shadow: 5px 5px 10px 3px rgb(0, 20, 0, 0.5);\n\n  .box {\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    border: 1px solid rgb(0, 55, 65);\n    background-color: rgb(0,40,50);\n    /* these really dog performance on bigger grids :( */\n    transition-property: color;\n    transition-duration: 0.1s;\n  }\n\n  .box:hover {\n    filter: brightness(1.25);\n  }\n\n  .box:active {\n    border: 1px solid rgb(10, 240, 0);\n    background-color: rgb(100, 255, 0);\n    transform: scale(0.9);\n    filter: contrast(1.5) brightness(2);\n    box-shadow: 0 0 30px 15px rgba(40, 255, 0, .5);\n  }\n\n  .box.selected {\n    background-color: rgb(10, 160, 0);\n    border-width: 2px;\n    border-color: rgba(0, 55, 65, 0.1) rgba(0, 55, 65, 0.2) rgba(0, 55, 65, 0.3) rgba(0, 55, 65, 0.1);\n    border-style: solid;\n  }\n\n`;","import Box from './Box';\nimport { StyledGrid } from '../styles/StyledGrid';\n\nexport default function Grid({ handleBoxClick, def, gridSize }) {\n\n  const gridArea = gridSize * gridSize;\n  const boxes = (() => {\n    const arr = []\n    for (let i = 0; i < gridArea; i++) {\n      arr.push(null);\n    }\n    return arr;\n  })();\n\n  return (\n    <StyledGrid gridSize={gridSize}>\n      {boxes.map((box, i) => {\n        return <Box\n          key = {i}\n          boxIndex = {i}\n          handleBoxClick = {handleBoxClick}\n          state = {(() => def.includes(i) ? 'selected' : '')()}/>\n      })}\n    </StyledGrid>\n  )\n}","import styled from \"styled-components\"\n\nconst CharInput = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  color: rgb(100, 190, 100);\n  width: 95px;\n  height: 145px;\n  border: 1px solid rgba(40,90,50,0.5);\n  border-radius: 10px;\n  background-color: rgb(30,100,70);\n  margin: 1px;\n  box-shadow: 0 0 1px 2px rgb(0,0,0,0.3);\n\n  input {\n    width: 85px;\n    height: 85px;\n    color: rgb(100, 190, 100);\n    background-color: rgb(0, 30, 40);\n    font-size: 65px;\n    text-align: center;\n    border-width: 3px;\n    border-radius: 15px;\n    border-color: rgb(0,110,0) rgb(0,115,0) rgb(0,118,0) rgb(0,118,0);\n    transition-property: all;\n    transition-duration: 0.1s;\n\n    &:focus {\n      outline: none;\n      filter: brightness(1.5)\n    }\n  }\n\n  p {\n    width: min-content;\n    background-color: rgba(0,0,30,0.85);\n    color: rgb(100, 220, 200);\n    padding: 5px;\n    border-radius: 2px;\n    margin: 0;\n    font-size: 12px;\n  }\n\n`;\n\nexport default function charKey({ onCharKeyInput, charKey }) {\n\n  return (\n    <CharInput>\n      <p style={{textAlign: 'center'}}>Definition Key</p>\n      <input\n        maxLength=\"1\"\n        onChange={onCharKeyInput}\n        id=\"charKey\"\n        type=\"text\"\n        value = {charKey}\n      >\n      </input>\n    </CharInput>\n  )\n}","export default function OpenFileBtn({ onHiddenFileInputClick }) {\n  return (\n    <input\n      style={{display: 'none'}}\n      onChange={onHiddenFileInputClick}\n      type=\"file\"\n      id=\"file-selector\"\n      accept=\".json\"\n    />\n  )\n}","import styled from \"styled-components\";\n\nconst LaunchNukes = styled.div`\n  // bib\n  border: ${props => `1px solid ${props.cols[1]}`};\n  background-color: ${props => props.cols[0]};\n  border-radius: 10px;\n  padding: 15px;\n  width: min-content;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  align-items: center;\n  width: 95px;\n  height: 145px;\n  margin: 1px;\n  box-shadow: 0 0 1px 2px rgb(0,0,0,0.3);\n  user-select: none;\n\n  div {\n    background-color: rgba(30, 0, 30, 0.9);\n    width: min-content;\n    border-radius: ${props => props.borRad};\n  }\n\n  // bib label\n  p {\n    text-align: center;\n    color: ${props => props.cols[3]};\n    filter: hue-rotate(90deg);\n    background-color: rgba(30,0,0,0.85);\n    padding: 5px;\n    border-radius: 2px;\n    font-size: 12px;\n  }\n\n  // button\n  div > div {\n    // button color\n    /* background-color: rgb(235,235,235); */\n    background-color: ${props => props.cols[2]};\n    filter: hue-rotate(-2deg);\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.8rem;\n    color: rgba(0,0,0,0.75);\n    border-width: 6px;\n    border-radius: ${props => props.borRad};\n    border-color:\n    rgba(0, 60, 40, 0.1)\n    rgba(0, 40, 60, 0.3)\n    rgba(0, 50, 60, 0.5)\n    rgba(0, 40, 60, 0.2);\n    border-style: solid;\n    height: 60px;\n    width: 60px;\n    transition-property: all;\n    transition-duration: 0.1s;\n    box-shadow: 3px 3px 7px 5px rgb(0,0,0,0.3), 0 0 1px 1px rgb(0,0,0,0.9);;\n\n    &:hover {\n      cursor: pointer;\n      transform: scale(1.15);\n      border-color:\n      rgba(0, 60, 40, 0.2)\n      rgba(0, 40, 60, 0.4)\n      rgba(0, 50, 60, 0.5)\n      rgba(0, 40, 60, 0.3);\n    }\n    &:active {\n      // button click color and glow\n      background-color: ${props => props.cols[3]};\n      box-shadow: ${props => `0 0 25px 5px ${props.cols[3]}`};\n      cursor: grabbing;\n      transform: scale(0.95);\n      filter: brightness(1.25) hue-rotate(40deg);\n    }\n  }\n`;\n\nexport default function UniversalBtn({ btnText, BtnClick, shortText, col, borRad}) {\n  const colorString = (multiplier) => {\n    if (col) {\n      const [ r, g, b ] = col.map(channel => Math.floor(channel * multiplier));\n      return `rgb(${r}, ${g}, ${b})`;\n    }\n    return 'rgb(100, 100, 100)';\n  }\n  const cols = [ colorString(0.5), colorString(0.75), colorString(1.5), colorString(2.5),]\n\n\n  return (\n    <div>\n      <LaunchNukes\n        cols = {cols}\n        borRad = {borRad}\n      >\n      <div onClick = {BtnClick} >\n        <div>{shortText}</div>\n      </div>\n      <p>{btnText}</p>\n      </LaunchNukes>\n    </div>\n  )\n}","import styled from \"styled-components\"\n\nconst BtnGrid = styled.div`\n  display: grid;\n  grid-gap: 10px;\n  padding: 6px;\n  width: 320px;\n  margin: 0;\n  grid-template-columns: repeat(3, auto);\n  justify-content: center;\n`;\n\nexport default function BtnPanel( { children }) {\n\n  return (\n    <BtnGrid>\n      { children }\n    </BtnGrid>\n  )\n}","import styled, { css } from \"styled-components\";\n\nconst Illuminated = styled.div`\n  width: 50px;\n  height: 50px;\n  margin: 5px;\n  user-select: none;\n\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  font-weight: 700;\n  font-size: 1rem;\n  color: rgba(0,0,0,0.5);\n  text-transform: uppercase;\n\n  cursor: pointer;\n  border: 2px solid rgb(0, 40, 50);\n  transition-property: all;\n  transition-duration: 0.1s;\n  background-color: rgb(0,55,65);\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:active {\n    border: 1px solid rgb(10, 240, 0);\n    background-color: rgb(100, 255, 0);\n    transform: scale(0.9);\n    filter: contrast(1.5) brightness(2);\n    box-shadow: 0 0 30px 15px rgba(40, 255, 0, .5);\n  }\n\n  ${props => (props.gridWidth === props['data-value'])\n    && css`\n      background-color: rgb(10, 160, 0);\n      border-width: 2px;\n      border-color: rgba(0, 55, 65, 0.1) rgba(0, 55, 65, 0.2) rgba(0, 55, 65, 0.3) rgba(0, 55, 65, 0.1);\n      border-style: solid;\n      filter: contrast(1.2) brightness(1.5);\n      box-shadow: 0 0 35px 15px rgba(40, 255, 0, .3);\n    `\n  }\n`;\n\nexport default function IlluminatedButton( { values, gridWidth, handleGridWidth }) {\n\n  return (\n    <div style={{display: 'flex', flexFlow: 'row wrap', justifyContent: 'center'}}>\n      {\n        values.map(value => {\n          return (\n            <Illuminated\n            key = { value }\n            data-value = { value }\n            gridWidth = { Number(gridWidth) }\n            onClick = { handleGridWidth }\n            >\n              { value }\n            </Illuminated>\n          )\n        })\n      }\n    </div>\n  )\n}","import { useState, useEffect } from 'react';\nimport './App.css';\nimport Grid from './components/Grid';\nimport CharKey from './components/CharKey';\nimport OpenFileBtn from './components/OpenFileBtn';\nimport UniversalBtn from './components/UniversalBtn';\nimport BtnPanel from './components/BtnPanel';\nimport IlluminatedButton from './components/IlluminatedButton';\n// These are used as the default definitions\nimport customDefs from './customDefs.json';\n\n// TextRenderer from installed Node module\nimport TextRenderer from 'react-pixel-text-renderer';\n\n// TextRenderer from local src for development\n// import TextRenderer from './text-renderer-src/TextRenderer'\n\nfunction App() {\n  const [ def, setDef ] = useState([]);\n  const [ charKey, setCharKey ] = useState('');\n  const [ sessionDefs, setSessionDefs] = useState(customDefs);\n  const [ lastBoxValue, setLastBoxValue] = useState(null);\n  const [ gridSize, setGridSize ] = useState(5);\n  const [ previewWidth, setPreviewWidth] = useState(null);\n\n  useEffect(() => {\n    const defPreview = document.querySelector('.Container.Preview')\n    setPreviewWidth(defPreview.offsetWidth);\n    // monitor the size of the container for the character preview\n    // update TextRenderer char spaces prop accordingly\n    function handleResize(event) {\n      setPreviewWidth(defPreview.offsetWidth);\n    }\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [])\n\n  const handleBoxClick = (event) => {\n    const box = event.target;\n    const boxValue = Number(box.dataset.value);\n\n    if (!event.shiftKey) {\n      setDef((def) => {\n        // if the clicked on item is already in the def, return the def minus the item\n        if (def.includes(boxValue)) {\n          return def.filter(coordinate => coordinate !== boxValue)\n        } else {\n        // if the clicked on item isn't in the def, return the def plus the item\n          return [...def, boxValue].sort((a,b) => a - b);\n        }\n      });\n    }\n\n    if (event.shiftKey) {\n      const line = findBetween(lastBoxValue, boxValue);\n      setDef(def => {\n        // filter def, returning only items that are NOT in the line\n        // ie. KEEP what's in the def already that has nothing to do with the line\n        const res1 = def.filter(coordinate => !line.includes(coordinate))\n        // filter line, returning only items that are NOT in the def\n        // ie, if the line crosses previously clicked boxes, we're going to toggle them off\n        const res2 = line.filter(coordinate => !def.includes(coordinate))\n\n        if (!def.includes(boxValue)) {\n          // if last click added an item to the def, we'll need to add that item back in upon our shift click\n          return [lastBoxValue, ...res1, ...res2].sort((a,b) => a - b);\n        } else if (def.includes(boxValue)) {\n          // if last clicked removed an item from the def, we'll need to remove the CURRENT item upon our shift click\n          return[...res1, ...res2]\n            .filter(coordinate => coordinate !== boxValue && coordinate !== lastBoxValue)\n            .sort((a,b) => a - b);\n        }\n      })\n    }\n    setLastBoxValue(boxValue);\n  }\n\n  const findBetween = (lastClick, currentClick) => {\n    // some conditions:\n    // current is in same row as last\n    // current is in same column as last\n    // current is in a different row and column, but is on a 45 degree diagonal from last\n    // path between last and current is ambiguous and can't be decided without injecting an opinion\n\n    const gridWidth = gridSize;\n    let between = [];\n\n    const rowOffset = (getRow(currentClick) - getRow(lastClick));\n    const colOffset = (getColumn(currentClick) - getColumn(lastClick));\n    const from = Math.min(lastClick, currentClick);\n    const until = Math.max(lastClick, currentClick);\n    const slope = (colOffset / rowOffset);\n\n    // horizontal row\n    if (rowOffset === 0) {\n      for (let i = from; i < until + 1; i++ ) {\n        between.push(i);\n      }\n    // vertical column\n    } else if (colOffset === 0) {\n      for (let i = from; i < until + gridWidth; i+=gridWidth ) {\n        between.push(i);\n      }\n    // diagonal line\n    } else if (Math.abs(slope) === 1) {\n      for (let i = from; i < until + (gridWidth + slope); i+= (gridWidth + slope) ) {\n        between.push(i);\n      }\n    }\n\n    function getRow(n) {\n      return Math.floor(n / gridWidth)\n    }\n    function getColumn(n) {\n      return n % gridWidth\n    }\n    return between;\n  }\n\n  const onCharKeyInput = (event) => {\n    const key = event.target.value.toUpperCase();\n    // if we enter a key we've already used, display the character inrememberKey the editor\n    if (sessionDefs?.hasOwnProperty(key)) {\n      setDef(sessionDefs[key]);\n    }\n    setCharKey(key);\n  }\n\n  const onRecordDef = (event) => {\n    if (!charKey) return;\n    // the key / value pair \" \": [] is a hack to keep TextRenderer from crashing when it receives incomplete custom defs\n    // internally when it doesn't recognize a character, it reaches for the space character\n    // But what if the def doesn't even have the space character?! KA-BOOM!\n    setSessionDefs({...sessionDefs, [charKey]: def, charWidth: gridSize, \" \" : []})\n  }\n\n  const onClear = (event) => {\n    setDef([]);\n    // setCharKey('')\n  }\n\n  const onSave = () => {\n    const output = sessionDefs;\n    const outputJSON = JSON.stringify(output);\n    download(outputJSON, `customDefs_charWidth_${gridSize}.json`, 'text/plain');\n  }\n\n  function download(content, fileName, contentType) {\n    // grabbed this guy from stack overflow\n    // https://stackoverflow.com/questions/34156282/how-do-i-save-json-to-local-text-file\n    const a = document.createElement(\"a\");\n    const file = new Blob([content], {type: contentType});\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n    URL.revokeObjectURL(a.href);\n  }\n\n  const onLoadFile = () => {\n    // this is the reset to the internal stock definitions\n    // bad name for this function\n    setSessionDefs(customDefs);\n    setGridSize(customDefs.charWidth);\n    setDef(customDefs[charKey] ? customDefs[charKey] : []);\n  }\n\n  const onOpenLocalFile = (event) => {\n    // opening local JSON file\n    const hiddenFileInput = document.querySelector('#file-selector');\n    hiddenFileInput.click();\n  }\n\n  const onHiddenFileInputClick = async (event) => {\n    const file = event.target.files[0];\n    if (!file) {\n      console.log('no file');\n      return;\n    }\n    const fileContents = JSON.parse(await file.text());\n    setGridSize(fileContents.charWidth);\n    setSessionDefs(fileContents);\n    setDef(fileContents[charKey] ? fileContents[charKey] : []);\n  }\n\n  const handleGridWidth = (event) => {\n    const newWidth = Number(event.target.dataset.value);\n    setGridSize(newWidth);\n    setSessionDefs({...sessionDefs, charWidth: newWidth, \" \" : []})\n  }\n\n  let charSet = '';\n  if (sessionDefs) {\n    charSet = Object.keys(sessionDefs).join(' ');\n  }\n\n  const scale = 5;\n  return (\n    <div className=\"App\">\n\n      <div className=\"Title\">\n        <TextRenderer\n          text = {'React Pixel Character Editor'}\n          charSpaces = {previewWidth < 660 ? 9 : 28}\n          scale = {4}\n          scaleMode = {previewWidth < 660 ? 'fixed' : 'auto'}\n          wordWrap = {true}\n        />\n      </div>\n\n      <Grid handleBoxClick={handleBoxClick} def={def} gridSize = {gridSize} />\n\n      <div className=\"ButtonPanel\">\n        <BtnPanel>\n          <CharKey\n            onCharKeyInput = {onCharKeyInput}\n            charKey = {charKey}\n            onRecordDef = {onRecordDef}\n          />\n          <UniversalBtn btnText = {'Record Definition'} shortText = {'Record'} BtnClick = {onRecordDef} col = {[250,100,20]}/>\n          <UniversalBtn btnText = {'Clear Grid'} shortText = {'Clear'} BtnClick = {onClear} col = {[200,240,20]} />\n          <UniversalBtn btnText = {'Export JSON'} shortText = {'JSON'} BtnClick = {onSave} col = {[0,200,190]} borRad = {'50%'} />\n          <UniversalBtn btnText = {'Load File'} shortText = {'Load'} BtnClick = {onOpenLocalFile} col = {[190,0,90]} />\n          <UniversalBtn btnText = {'Stock Defs'} shortText = {'Reset'} BtnClick = {onLoadFile} col = {[0,100,190]} />\n        </BtnPanel>\n      </div>\n      <OpenFileBtn onHiddenFileInputClick = { onHiddenFileInputClick }/>\n\n      <div className=\"Container Preview\">\n        <p className=\"Container__title\">Definitions in Set</p>\n        <TextRenderer\n          customDefs = { sessionDefs }\n          text = {charSet}\n          scale = { scale }\n          charSpaces = { previewWidth < 660 ? 9 : 19 }\n          // Use the below if using 'fixed' scale mode to keep chars from overflowing container\n          // charSpaces = {previewWidth < 660 ? Math.floor(280 / (scale * (gridSize + 1))) : Math.floor(600 / (scale * (gridSize + 1)))}\n          scaleMode = {'auto'}\n          wordWrap = {false}\n        />\n      </div>\n\n      <div className=\"Container\">\n        <p className=\"Container__title\">Grid Size</p>\n        <IlluminatedButton\n          values = { [5, 6, 7, 8, 9, 10, 11] }\n          gridWidth = { gridSize }\n          handleGridWidth = { handleGridWidth }\n        />\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}